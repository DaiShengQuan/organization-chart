{"version":3,"sources":["webpack:///./src/util.js","webpack:///./src/org-chart.js","webpack:///./src/dao.js","webpack:///src/App.vue","webpack:///./src/App.vue?532f","webpack:///./src/App.vue","webpack:///./src/components/HelloWorld.vue?3ba4","webpack:///./src/components/HelloWorld.vue","webpack:///src/components/HelloWorld.vue","webpack:///./src/router/index.js","webpack:///./src/main.js"],"names":["util","numStr","length","letters","color","i","Math","floor","random","context","xIndex","yIndex","pixelData","getImageData","data","Util","appendFront0","toString","ctx","text","x","y","fontSize","fontColor","font","fillStyle","fillText","maxWidth","lineHeight","words","split","line","n","testLine","measureText","width","height","radius","fill","stroke","tl","tr","br","bl","defaultRadius","side","beginPath","moveTo","lineTo","quadraticCurveTo","closePath","org_chart","OrgChart","classCallCheck_default","this","d3","init","initVariables","initCanvas","initVirtualNode","setCanvasListener","padding","nodeWidth","nodeHeight","unitPadding","unitWidth","unitHeight","duration","scale","hierarchy","treeGenerator","tree","nodeSize","update","self","timer","drawCanvas","targetTreeNode","treeData","nodes","descendants","links","animatedStartX","animatedStartY","animatedEndX","animatedEndY","x0","y0","updateOrgUnits","updateLinks","addColorKey","bindNodeToTreeData","orgUnitSelection","virtualContainerNode","selectAll","d","attr","transition","enter","append","exit","remove","forEach","treeNode","linkSelection","source","target","linkData","link","container","select","canvasNode","hiddenCanvasNode","style","node","getContext","translate","hiddenContext","virtualContainer","document","createElement","colorNodeMap","each","newColor","randomColor","drawShowCanvas","drawHiddenCanvas","clearRect","linkPath","linkVertical","path","Path2D","indexX","Number","indexY","roundRect","name","wrapText","title","setClickListener","setDragListener","setMouseWheelZoomListener","addEventListener","e","colorStr","getColorStrFromCanvas","layerX","layerY","toggleTreeNode","event","preventDefault","deltaY","bigger","smaller","onDrag_","dragStartPoint_","onmousedown","onmousemove","onmouseout","onmouseup","children","_children","dao","depth","push","temp","foldDepth","generateOrgChartData","tempNode","App","selectortype_template_index_0_src_App","render","_vm","_h","$createElement","_c","_self","staticStyle","display","align-items","flex-direction","vertical-align","min-width","margin","attrs","disabled","isDraw","on","click","$event","test","_v","testFold","_m","staticRenderFns","src_App","__webpack_require__","normalizeComponent","ssrContext","components_HelloWorld","staticClass","_s","msg","href","src_components_HelloWorld","HelloWorld_normalizeComponent","vue_esm","use","vue_router_esm","router","routes","component","config","productionTip","el","components","template"],"mappings":"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","file":"static/js/app.8bccdba87a493d0b0c45.js","sourcesContent":["class Util {\n  static appendFront0 (numStr) {\n    if (numStr.length !== 2) {\n      return '0' + numStr\n    } else {\n      return numStr\n    }\n  }\n\n  static randomColor () {\n    let letters = ['0', '1', '2', '3', '4', '5', '6', '7', '8', '9', 'a', 'b', 'c', 'd', 'e', 'f']\n    let color = '#'\n    for (let i = 0; i < 6; i++) {\n      color += letters[Math.floor(Math.random() * 16)]\n    }\n    return color\n  }\n\n  static getColorStrFromCanvas (context, xIndex, yIndex) {\n    let pixelData = context.getImageData(xIndex, yIndex, 1, 1).data\n    return '#' + Util.appendFront0(pixelData[0].toString(16)) +\n      Util.appendFront0(pixelData[1].toString(16)) +\n      Util.appendFront0(pixelData[2].toString(16))\n  }\n\n  static text (ctx, text, x, y, fontSize, fontColor) {\n    ctx.font = '14px Arial'\n    ctx.fillStyle = fontColor\n    ctx.fillText(text, x, y)\n  }\n\n  static wrapText (context, text, x, y, maxWidth, lineHeight, fontColor) {\n    context.fillStyle = fontColor\n    let words = text.split(' ')\n    let line = ''\n    for (let n = 0; n < words.length; n++) {\n      let testLine = line + words[n] + ' '\n      let metrics = context.measureText(testLine)\n      let testWidth = metrics.width\n      if (testWidth > maxWidth && n > 0) {\n        context.fillText(line, x, y)\n        line = words[n] + ' '\n        y += lineHeight\n      } else {\n        line = testLine\n      }\n    }\n    context.fillText(line, x, y)\n  }\n\n  static roundRect (context, x, y, width, height, radius, fill, stroke) {\n    if (typeof stroke === 'undefined') {\n      stroke = true\n    }\n    if (typeof radius === 'undefined') {\n      radius = 5\n    }\n    if (typeof radius === 'number') {\n      radius = {tl: radius, tr: radius, br: radius, bl: radius}\n    } else {\n      let defaultRadius = {tl: 0, tr: 0, br: 0, bl: 0}\n      for (let side in defaultRadius) {\n        radius[side] = radius[side] || defaultRadius[side]\n      }\n    }\n    context.beginPath()\n    context.moveTo(x + radius.tl, y)\n    context.lineTo(x + width - radius.tr, y)\n    context.quadraticCurveTo(x + width, y, x + width, y + radius.tr)\n    context.lineTo(x + width, y + height - radius.br)\n    context.quadraticCurveTo(x + width, y + height, x + width - radius.br, y + height)\n    context.lineTo(x + radius.bl, y + height)\n    context.quadraticCurveTo(x, y + height, x, y + height - radius.bl)\n    context.lineTo(x, y + radius.tl)\n    context.quadraticCurveTo(x, y, x + radius.tl, y)\n    context.closePath()\n    if (fill) {\n      context.fill()\n    }\n    if (stroke) {\n      context.stroke()\n    }\n  }\n}\n\nexport default Util\n\n\n\n// WEBPACK FOOTER //\n// ./src/util.js","import * as d3 from 'd3'\nimport Util from './util.js'\n\nclass OrgChart {\n  constructor () {\n    this.d3 = d3\n    this.init()\n  }\n\n  init () {\n    this.initVariables()\n    this.initCanvas()\n    this.initVirtualNode()\n    this.setCanvasListener()\n  }\n\n  initVariables () {\n    this.width = 1000\n    this.height = 1000\n    this.padding = 20\n    // tree node size\n    this.nodeWidth = 180\n    this.nodeHeight = 280\n    // org unit size\n    this.unitPadding = 20\n    this.unitWidth = 140\n    this.unitHeight = 100\n    // animation duration\n    this.duration = 600\n    this.scale = 1.0\n  }\n\n  draw (data) {\n    this.data = this.d3.hierarchy(data)\n    this.treeGenerator = this.d3.tree()\n      .nodeSize([this.nodeWidth, this.nodeHeight])\n    this.update()\n\n    let self = this\n    this.d3.timer(function () {\n      self.drawCanvas()\n    })\n  }\n\n  update (targetTreeNode) {\n    this.treeData = this.treeGenerator(this.data)\n    let nodes = this.treeData.descendants()\n    let links = this.treeData.links()\n\n    let animatedStartX = 0\n    let animatedStartY = 0\n    let animatedEndX = 0\n    let animatedEndY = 0\n    if (targetTreeNode) {\n      animatedStartX = targetTreeNode.x0\n      animatedStartY = targetTreeNode.y0\n      animatedEndX = targetTreeNode.x\n      animatedEndY = targetTreeNode.y\n    }\n\n    this.updateOrgUnits(nodes, animatedStartX, animatedStartY, animatedEndX, animatedEndY)\n    this.updateLinks(links, animatedStartX, animatedStartY, animatedEndX, animatedEndY)\n\n    this.addColorKey()\n    this.bindNodeToTreeData()\n  }\n\n  updateOrgUnits (nodes, animatedStartX, animatedStartY, animatedEndX, animatedEndY) {\n    let orgUnitSelection = this.virtualContainerNode.selectAll('.orgUnit')\n      .data(nodes, d => d['colorKey'])\n\n    orgUnitSelection.attr('class', 'orgUnit')\n      .attr('x', function (data) {\n        return data.x0\n      })\n      .attr('y', function (data) {\n        return data.y0\n      })\n      .transition()\n      .duration(this.duration)\n      .attr('x', function (data) {\n        return data.x\n      })\n      .attr('y', function (data) {\n        return data.y\n      })\n      .attr('fillStyle', '#ff0000')\n\n    orgUnitSelection.enter()\n      .append('orgUnit')\n      .attr('class', 'orgUnit')\n      .attr('x', animatedStartX)\n      .attr('y', animatedStartY)\n      .transition()\n      .duration(this.duration)\n      .attr('x', function (data) {\n        return data.x\n      })\n      .attr('y', function (data) {\n        return data.y\n      })\n      .attr('fillStyle', '#ff0000')\n\n    orgUnitSelection.exit()\n      .transition()\n      .duration(this.duration)\n      .attr('x', animatedEndX)\n      .attr('y', animatedEndY)\n      .remove()\n\n    // record origin index for animation\n    nodes.forEach(treeNode => {\n      treeNode['x0'] = treeNode.x\n      treeNode['y0'] = treeNode.y\n    })\n\n    orgUnitSelection = null\n  }\n\n  updateLinks (links, animatedStartX, animatedStartY, animatedEndX, animatedEndY) {\n    let linkSelection = this.virtualContainerNode.selectAll('.link')\n      .data(links, function (d) {\n        return d.source['colorKey'] + ':' + d.target['colorKey']\n      })\n\n    linkSelection.attr('class', 'link')\n      .attr('sourceX', function (linkData) {\n        return linkData.source['x00']\n      })\n      .attr('sourceY', function (linkData) {\n        return linkData.source['y00']\n      })\n      .attr('targetX', function (linkData) {\n        return linkData.target['x00']\n      })\n      .attr('targetY', function (linkData) {\n        return linkData.target['y00']\n      })\n      .transition()\n      .duration(this.duration)\n      .attr('sourceX', function (linkData) {\n        return linkData.source.x\n      })\n      .attr('sourceY', function (linkData) {\n        return linkData.source.y\n      })\n      .attr('targetX', function (linkData) {\n        return linkData.target.x\n      })\n      .attr('targetY', function (linkData) {\n        return linkData.target.y\n      })\n\n    linkSelection.enter()\n      .append('link')\n      .attr('class', 'link')\n      .attr('sourceX', animatedStartX)\n      .attr('sourceY', animatedStartY)\n      .attr('targetX', animatedStartX)\n      .attr('targetY', animatedStartY)\n      .transition()\n      .duration(this.duration)\n      .attr('sourceX', function (link) {\n        return link.source.x\n      })\n      .attr('sourceY', function (link) {\n        return link.source.y\n      })\n      .attr('targetX', function (link) {\n        return link.target.x\n      })\n      .attr('targetY', function (link) {\n        return link.target.y\n      })\n\n    linkSelection.exit()\n      .transition()\n      .duration(this.duration)\n      .attr('sourceX', animatedEndX)\n      .attr('sourceY', animatedEndY)\n      .attr('targetX', animatedEndX)\n      .attr('targetY', animatedEndY)\n      .remove()\n\n    // record origin data for animation\n    links.forEach(treeNode => {\n      treeNode.source['x00'] = treeNode.source.x\n      treeNode.source['y00'] = treeNode.source.y\n      treeNode.target['x00'] = treeNode.target.x\n      treeNode.target['y00'] = treeNode.target.y\n    })\n    linkSelection = null\n  }\n\n  initCanvas () {\n    this.container = this.d3.select('#container')\n    this.canvasNode = this.container\n      .append('canvas')\n      .attr('class', 'orgChart')\n      .attr('width', this.width)\n      .attr('height', this.height)\n    this.hiddenCanvasNode = this.container\n      .append('canvas')\n      .attr('class', 'orgChart')\n      .attr('width', this.width)\n      .attr('height', this.height)\n      .style('visibility', 'visible')\n    this.context = this.canvasNode.node().getContext('2d')\n    this.context.translate(this.width / 2, this.padding)\n    this.hiddenContext = this.hiddenCanvasNode.node().getContext('2d')\n    this.hiddenContext.translate(this.width / 2, this.padding)\n  }\n\n  initVirtualNode () {\n    let virtualContainer = document.createElement('root')\n    this.virtualContainerNode = this.d3.select(virtualContainer)\n    this.colorNodeMap = {}\n  }\n\n  addColorKey () {\n    // give each node a unique color\n    let self = this\n    this.virtualContainerNode.selectAll('.orgUnit')\n      .each(function () {\n        let node = self.d3.select(this)\n        let newColor = Util.randomColor()\n        while (self.colorNodeMap[newColor]) {\n          newColor = Util.randomColor()\n        }\n        node.attr('colorKey', newColor)\n        node.data()[0]['colorKey'] = newColor\n        self.colorNodeMap[newColor] = node\n      })\n  }\n\n  bindNodeToTreeData () {\n    // give each node a unique color\n    let self = this\n    this.virtualContainerNode.selectAll('.orgUnit')\n      .each(function () {\n        let node = self.d3.select(this)\n        let data = node.data()[0]\n        data['node'] = node\n      })\n  }\n\n  drawCanvas () {\n    this.drawShowCanvas()\n    this.drawHiddenCanvas()\n  }\n\n  drawShowCanvas () {\n    this.context.clearRect(-50000, -10000, 100000, 100000)\n\n    let self = this\n    // draw links\n    this.virtualContainerNode.selectAll('.link')\n      .each(function () {\n        let node = self.d3.select(this)\n        let linkPath = self.d3.linkVertical()\n          .x(function (d) {\n            return d.x\n          })\n          .y(function (d) {\n            return d.y\n          })\n          .source(function () {\n            return {x: node.attr('sourceX'), y: node.attr('sourceY')}\n          })\n          .target(function () {\n            return {x: node.attr('targetX'), y: node.attr('targetY')}\n          })\n        let path = new Path2D(linkPath())\n        self.context.stroke(path)\n      })\n\n    this.virtualContainerNode.selectAll('.orgUnit')\n      .each(function () {\n        let node = self.d3.select(this)\n        let treeNode = node.data()[0]\n        let data = treeNode.data\n        self.context.fillStyle = '#aaaaaa'\n        let indexX = Number(node.attr('x')) - self.unitWidth / 2\n        let indexY = Number(node.attr('y')) - self.unitHeight / 2\n        Util.roundRect(self.context, indexX, indexY, self.unitWidth, self.unitHeight, 4, true, false)\n        Util.text(self.context, data.name, indexX + self.unitPadding, indexY + self.unitPadding, '20px', '#000000')\n        // Util.text(self.context, data.title, indexX + self.unitPadding, indexY + self.unitPadding + 30, '20px', '#000000')\n        let maxWidth = self.unitWidth - 2 * self.unitPadding\n        Util.wrapText(self.context, data.title, indexX + self.unitPadding, indexY + self.unitPadding + 24, maxWidth, 20)\n      })\n  }\n\n  /**\n   * fill the node outline with colorKey color\n   */\n  drawHiddenCanvas () {\n    this.hiddenContext.clearRect(-50000, -10000, 100000, 100000)\n\n    let self = this\n    this.virtualContainerNode.selectAll('.orgUnit')\n      .each(function () {\n        let node = self.d3.select(this)\n        self.hiddenContext.fillStyle = node.attr('colorKey')\n        Util.roundRect(self.hiddenContext, Number(node.attr('x')) - self.unitWidth / 2, Number(node.attr('y')) - self.unitHeight / 2, self.unitWidth, self.unitHeight, 4, true, false)\n      })\n  }\n\n  setCanvasListener () {\n    this.setClickListener()\n    this.setDragListener()\n    this.setMouseWheelZoomListener()\n  }\n\n  setClickListener () {\n    let self = this\n    this.canvasNode.node().addEventListener('click', function (e) {\n      let colorStr = Util.getColorStrFromCanvas(self.hiddenContext, e.layerX, e.layerY)\n      let node = self.colorNodeMap[colorStr]\n      if (node) {\n        // let treeNodeData = node.data()[0]\n        // self.hideChildren(treeNodeData, true)\n        self.toggleTreeNode(node.data()[0])\n        self.update(node.data()[0])\n      }\n    })\n  }\n\n  setMouseWheelZoomListener () {\n    let self = this\n    this.canvasNode.node().addEventListener('mousewheel', function (event) {\n      event.preventDefault()\n      if (event.deltaY < 0) {\n        self.bigger()\n      } else {\n        self.smaller()\n      }\n    })\n  }\n\n  setDragListener () {\n    this.onDrag_ = false\n    this.dragStartPoint_ = {x: 0, y: 0}\n    let self = this\n    this.canvasNode.node().onmousedown = function (e) {\n      self.dragStartPoint_.x = e.x\n      self.dragStartPoint_.y = e.y\n      self.onDrag_ = true\n    }\n\n    this.canvasNode.node().onmousemove = function (e) {\n      if (!self.onDrag_) {\n        return\n      }\n      self.context.translate((e.x - self.dragStartPoint_.x) / self.scale, (e.y - self.dragStartPoint_.y) / self.scale)\n      self.hiddenContext.translate((e.x - self.dragStartPoint_.x) / self.scale, (e.y - self.dragStartPoint_.y) / self.scale)\n      self.dragStartPoint_.x = e.x\n      self.dragStartPoint_.y = e.y\n    }\n\n    this.canvasNode.node().onmouseout = function (e) {\n      if (self.onDrag_) {\n        self.onDrag_ = false\n      }\n    }\n\n    this.canvasNode.node().onmouseup = function (e) {\n      if (self.onDrag_) {\n        self.onDrag_ = false\n      }\n    }\n  }\n\n  toggleTreeNode (treeNode) {\n    if (treeNode.children) {\n      treeNode._children = treeNode.children\n      treeNode.children = null\n    } else {\n      treeNode.children = treeNode._children\n      treeNode._children = null\n    }\n  }\n\n  bigger () {\n    if (this.scale > 7) {\n      return\n    }\n    this.context.clearRect(-1000000, -10000, 2000000, 2000000)\n    this.hiddenContext.clearRect(-1000000, -10000, 2000000, 2000000)\n\n    this.scale = this.scale * 5 / 4\n    this.context.scale(5 / 4, 5 / 4)\n    this.hiddenContext.scale(5 / 4, 5 / 4)\n  }\n\n  smaller () {\n    if (this.scale < 0.2) {\n      return\n    }\n    this.context.clearRect(-1000000, -10000, 2000000, 2000000)\n    this.hiddenContext.clearRect(-1000000, -10000, 2000000, 2000000)\n\n    this.scale = this.scale * 4 / 5\n    this.context.scale(4 / 5, 4 / 5)\n    this.hiddenContext.scale(4 / 5, 4 / 5)\n  }\n}\n\nexport default OrgChart\n\n\n\n// WEBPACK FOOTER //\n// ./src/org-chart.js","class DataGenerator {\n  static generateOrgChartData (depth) {\n    let data = {\n      'name': 'Lao Lao',\n      'title': 'general manager',\n      'children': [\n        {'name': 'Bo Miao', 'title': 'department manager'},\n        {\n          'name': 'Su Miao',\n          'title': 'department manager',\n          'children': [\n            {'name': 'Tie Hua', 'title': 'senior engineer'},\n            {\n              'name': 'Hei Hei',\n              'title': 'senior engineer',\n              'children': [\n                {'name': 'Pang Pang', 'title': 'engineer'},\n                {'name': 'Xiang Xiang', 'title': 'UE engineer'}\n              ]\n            }\n          ]\n        },\n        {'name': 'Hong Miao', 'title': 'department manager'}\n      ]\n    }\n\n    for (let i = 0; i < 3; i++) {\n      data['children'].push({\n        'name': 'Lao Lao',\n        'title': 'general manager',\n        'children': [\n          {'name': 'Bo Miao', 'title': 'department manager'},\n          {\n            'name': 'Su Miao',\n            'title': 'department manager',\n            'children': [\n              {'name': 'Tie Hua', 'title': 'senior engineer'}\n            ]\n          }\n        ]\n      })\n    }\n\n    let temp = data\n    for (let i = 0; i < depth; i++) {\n      if (!temp.children) {\n        temp.children = []\n      }\n      temp.children.push({\n        'name': 'Lao Lao',\n        'title': 'general manager',\n        'children': [\n          {'name': 'Bo Miao', 'title': 'department manager'},\n          {\n            'name': 'Su Miao',\n            'title': 'department manager',\n            'children': [\n              {'name': 'Tie Hua', 'title': 'senior engineer'},\n              {\n                'name': 'Hei Hei',\n                'title': 'senior engineer',\n                'children': [\n                  {'name': 'Xiang Xiang', 'title': 'UE engineer'}\n                ]\n              }\n            ]\n          }\n        ]\n      })\n      temp = temp.children[0]\n    }\n    return data\n  }\n\n  static generateOrgChartDataFolded (depth, foldDepth) {\n    let data = this.generateOrgChartData(depth)\n    let tempNode = data\n    for (let i = 0; i < foldDepth && tempNode.children; i++) {\n      tempNode = tempNode.children[0]\n    }\n    tempNode._children = tempNode.children\n    tempNode.children = null\n    return data\n  }\n}\n\nexport default DataGenerator\n\n\n\n// WEBPACK FOOTER //\n// ./src/dao.js","<template>\n  <div style=\"display: flex; align-items: center; flex-direction: column; vertical-align: top; min-width: 400px;\">\n    <button @click=\"test(10)\" style=\"margin: 20px;\" :disabled=\"isDraw\">Draw Small Company (10+ row)</button>\n    <button @click=\"test(100)\" style=\"margin: 20px;\" :disabled=\"isDraw\">Draw Medium Company(100+ row)</button>\n    <button @click=\"test(1000)\" style=\"margin: 20px;\" :disabled=\"isDraw\">Draw Big Company(1000+ row)</button>\n    <button @click=\"testFold(1000, 100)\" style=\"margin: 20px;\" :disabled=\"isDraw\">Draw Big Company(1000+ row & 100 below folded)</button>\n    <button @click=\"bigger()\" style=\"margin: 20px;\">+</button>\n    <button @click=\"smaller()\" style=\"margin: 20px;\">-</button>\n\n    <h3>Support action</h3>\n    <ul>\n      <li>click node to toggle folder</li>\n      <li>drag canvas</li>\n      <li>use mouse wheel to zoom</li>\n      <li>button control to zoom</li>\n    </ul>\n  </div>\n</template>\n\n<script>\nimport OrgChart from './org-chart'\nimport DataGenerator from './dao'\nexport default {\n  name: 'App',\n  data: function () {\n    return {\n      orgChart: null,\n      isDraw: false\n    }\n  },\n  created () {\n    this.orgChart = new OrgChart()\n  },\n  methods: {\n    test (depth) {\n      let data = DataGenerator.generateOrgChartData(depth)\n      this.orgChart.draw(data)\n      this.isDraw = true\n    },\n    testFold (depth, foldDepth) {\n      let data = DataGenerator.generateOrgChartDataFolded(depth, foldDepth)\n      this.orgChart.draw(data)\n      this.isDraw = true\n    },\n    bigger () {\n      this.orgChart.bigger()\n    },\n    smaller () {\n      this.orgChart.smaller()\n    }\n  }\n}\n</script>\n\n<style>\n  #app {\n    font-family: 'Avenir', Helvetica, Arial, sans-serif;\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n    text-align: center;\n    color: #2c3e50;\n    margin-top: 60px;\n  }\n\n  .orgChart {\n    border: 1px solid black;\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"display\":\"flex\",\"align-items\":\"center\",\"flex-direction\":\"column\",\"vertical-align\":\"top\",\"min-width\":\"400px\"}},[_c('button',{staticStyle:{\"margin\":\"20px\"},attrs:{\"disabled\":_vm.isDraw},on:{\"click\":function($event){_vm.test(10)}}},[_vm._v(\"Draw Small Company (10+ row)\")]),_vm._v(\" \"),_c('button',{staticStyle:{\"margin\":\"20px\"},attrs:{\"disabled\":_vm.isDraw},on:{\"click\":function($event){_vm.test(100)}}},[_vm._v(\"Draw Medium Company(100+ row)\")]),_vm._v(\" \"),_c('button',{staticStyle:{\"margin\":\"20px\"},attrs:{\"disabled\":_vm.isDraw},on:{\"click\":function($event){_vm.test(1000)}}},[_vm._v(\"Draw Big Company(1000+ row)\")]),_vm._v(\" \"),_c('button',{staticStyle:{\"margin\":\"20px\"},attrs:{\"disabled\":_vm.isDraw},on:{\"click\":function($event){_vm.testFold(1000, 100)}}},[_vm._v(\"Draw Big Company(1000+ row & 100 below folded)\")]),_vm._v(\" \"),_c('button',{staticStyle:{\"margin\":\"20px\"},on:{\"click\":function($event){_vm.bigger()}}},[_vm._v(\"+\")]),_vm._v(\" \"),_c('button',{staticStyle:{\"margin\":\"20px\"},on:{\"click\":function($event){_vm.smaller()}}},[_vm._v(\"-\")]),_vm._v(\" \"),_c('h3',[_vm._v(\"Support action\")]),_vm._v(\" \"),_vm._m(0)])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ul',[_c('li',[_vm._v(\"click node to toggle folder\")]),_vm._v(\" \"),_c('li',[_vm._v(\"drag canvas\")]),_vm._v(\" \"),_c('li',[_vm._v(\"use mouse wheel to zoom\")]),_vm._v(\" \"),_c('li',[_vm._v(\"button control to zoom\")])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-691349de\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-691349de\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-691349de\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"hello\"},[_c('h1',[_vm._v(_vm._s(_vm.msg))]),_vm._v(\" \"),_c('h2',[_vm._v(\"Essential Links\")]),_vm._v(\" \"),_vm._m(0),_vm._v(\" \"),_c('h2',[_vm._v(\"Ecosystem\")]),_vm._v(\" \"),_vm._m(1)])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ul',[_c('li',[_c('a',{attrs:{\"href\":\"https://vuejs.org\",\"target\":\"_blank\"}},[_vm._v(\"\\n        Core Docs\\n      \")])]),_vm._v(\" \"),_c('li',[_c('a',{attrs:{\"href\":\"https://forum.vuejs.org\",\"target\":\"_blank\"}},[_vm._v(\"\\n        Forum\\n      \")])]),_vm._v(\" \"),_c('li',[_c('a',{attrs:{\"href\":\"https://chat.vuejs.org\",\"target\":\"_blank\"}},[_vm._v(\"\\n        Community Chat\\n      \")])]),_vm._v(\" \"),_c('li',[_c('a',{attrs:{\"href\":\"https://twitter.com/vuejs\",\"target\":\"_blank\"}},[_vm._v(\"\\n        Twitter\\n      \")])]),_vm._v(\" \"),_c('br'),_vm._v(\" \"),_c('li',[_c('a',{attrs:{\"href\":\"http://vuejs-templates.github.io/webpack/\",\"target\":\"_blank\"}},[_vm._v(\"\\n        Docs for This Template\\n      \")])])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ul',[_c('li',[_c('a',{attrs:{\"href\":\"http://router.vuejs.org/\",\"target\":\"_blank\"}},[_vm._v(\"\\n        vue-router\\n      \")])]),_vm._v(\" \"),_c('li',[_c('a',{attrs:{\"href\":\"http://vuex.vuejs.org/\",\"target\":\"_blank\"}},[_vm._v(\"\\n        vuex\\n      \")])]),_vm._v(\" \"),_c('li',[_c('a',{attrs:{\"href\":\"http://vue-loader.vuejs.org/\",\"target\":\"_blank\"}},[_vm._v(\"\\n        vue-loader\\n      \")])]),_vm._v(\" \"),_c('li',[_c('a',{attrs:{\"href\":\"https://github.com/vuejs/awesome-vue\",\"target\":\"_blank\"}},[_vm._v(\"\\n        awesome-vue\\n      \")])])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-d8ec41bc\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/HelloWorld.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-d8ec41bc\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./HelloWorld.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./HelloWorld.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./HelloWorld.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-d8ec41bc\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./HelloWorld.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-d8ec41bc\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/HelloWorld.vue\n// module id = null\n// module chunks = ","<template>\n  <div class=\"hello\">\n    <h1>{{ msg }}</h1>\n    <h2>Essential Links</h2>\n    <ul>\n      <li>\n        <a\n          href=\"https://vuejs.org\"\n          target=\"_blank\"\n        >\n          Core Docs\n        </a>\n      </li>\n      <li>\n        <a\n          href=\"https://forum.vuejs.org\"\n          target=\"_blank\"\n        >\n          Forum\n        </a>\n      </li>\n      <li>\n        <a\n          href=\"https://chat.vuejs.org\"\n          target=\"_blank\"\n        >\n          Community Chat\n        </a>\n      </li>\n      <li>\n        <a\n          href=\"https://twitter.com/vuejs\"\n          target=\"_blank\"\n        >\n          Twitter\n        </a>\n      </li>\n      <br>\n      <li>\n        <a\n          href=\"http://vuejs-templates.github.io/webpack/\"\n          target=\"_blank\"\n        >\n          Docs for This Template\n        </a>\n      </li>\n    </ul>\n    <h2>Ecosystem</h2>\n    <ul>\n      <li>\n        <a\n          href=\"http://router.vuejs.org/\"\n          target=\"_blank\"\n        >\n          vue-router\n        </a>\n      </li>\n      <li>\n        <a\n          href=\"http://vuex.vuejs.org/\"\n          target=\"_blank\"\n        >\n          vuex\n        </a>\n      </li>\n      <li>\n        <a\n          href=\"http://vue-loader.vuejs.org/\"\n          target=\"_blank\"\n        >\n          vue-loader\n        </a>\n      </li>\n      <li>\n        <a\n          href=\"https://github.com/vuejs/awesome-vue\"\n          target=\"_blank\"\n        >\n          awesome-vue\n        </a>\n      </li>\n    </ul>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'HelloWorld',\n  data () {\n    return {\n      msg: 'Welcome to Your Vue.js App'\n    }\n  }\n}\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\nh1, h2 {\n  font-weight: normal;\n}\nul {\n  list-style-type: none;\n  padding: 0;\n}\nli {\n  display: inline-block;\n  margin: 0 10px;\n}\na {\n  color: #42b983;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/HelloWorld.vue","import Vue from 'vue'\nimport Router from 'vue-router'\nimport HelloWorld from '@/components/HelloWorld'\n\nVue.use(Router)\n\nexport default new Router({\n  routes: [\n    {\n      path: '/',\n      name: 'HelloWorld',\n      component: HelloWorld\n    }\n  ]\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/router/index.js","// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\nimport Vue from 'vue'\nimport App from './App'\nimport router from './router'\n\nVue.config.productionTip = false\n\n/* eslint-disable no-new */\nnew Vue({\n  el: '#app',\n  router,\n  components: { App },\n  template: '<App/>'\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js"],"sourceRoot":""}